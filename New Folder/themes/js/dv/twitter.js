(function($){$.fn.twitterfeed=function(f,g){var h={count:10,timer:5000,type:"query",autoplay:1,multiple:false};var j={};var k={};var l=0;var n=$.extend(h,g);if(n.type=="query"){if(n.multiple==false||n.multiple==''){var o="http://search.twitter.com/search.json?q="+escape(f)+"&rpp="+n.count+"&callback=?"}else{var o="http://search.twitter.com/search.json?ors="+escape(f)+"&rpp="+n.count+"&callback=?"}}else{f=f.replace(/\s+/g,'+OR+from:');var o="http://search.twitter.com/search.json?q=from%3A"+escape(f)+"&rpp="+n.count+"&callback=?"}if(this){var p=this}searchtwitter();function searchtwitter(){jQuery.getJSON(o,function(a){var b=a.results;if(b){var i=-1;var c;var d=[];while((c=b[++i])&&!j[c.id]){j[c.id]=c.id;name=c.from_user;prof_img=c['profile_image_url'];username=c.from_user;d.push('<li id="TwitterId');d.push(c.id);d.push('"><a href="http://www.twitter.com/');d.push(name);d.push('" title="Visit profile" target="_blank"><img src="');d.push(prof_img);d.push('" alt="Profile Image"  class="userImg"/></a> <a href="http://www.twitter.com/');d.push(name);d.push('" title="Visit profile" target="_blank"><strong class="username">');d.push(username);d.push('</strong></a> ');d.push(c.text.makeLink());d.push('<br /><span class="feedInfo">');d.push(get_time(c.created_at));d.push('</span><br /></li>');idgot=c.id;if(l!=0){break}}var e=d.join("");l=1;if(e!=='')p.prepend(e).find('li:hidden').slideToggle('slow');if(!k[idgot]){element=jQuery("#TwitterId"+idgot);animatebackground(element,5,0);k[idgot]=idgot}p.children("li:gt("+n.count+")").remove()}})}$.fn.start=function(){timerInst=setInterval(function(){searchtwitter()},n.timer)};$.fn.pause=function(){clearInterval(timerInst)};if(typeof String.prototype.makeLink==="undefined"){String.prototype.makeLink=function(){return this.replace(/[A-Za-z]+:\/\/[A-Za-z0-9-_]+\.[A-Za-z0-9-_:%&\?\/~.=]+/,function(m){return m.link(m)})}}function get_time(a){var b=a.split(" ");a=b[2]+" "+b[1]+", "+b[3]+" "+b[4];var c=Date.parse(a);var d=(arguments.length>1)?arguments[1]:new Date();var e=parseInt((d.getTime()-c)/1000,10);e=e+(d.getTimezoneOffset()*60);var r='';if(e<60){r='a minute ago'}else if(e<120){r='couple of minutes ago'}else if(e<(45*60)){r=parseInt((e/60),10).toString()+' minutes ago'}else if(e<(90*60)){r='an hour ago'}else if(e<(24*60*60)){r=''+parseInt((e/3600),10).toString()+' hours ago'}else if(e<(48*60*60)){r='1 day ago'}else{r=parseInt((e/86400),10).toString()+' days ago'}return r}function animatebackground(a,b,c){b+=b>c?-1:1;if(!jQuery.support.opacity){if(b!=c){var d=(Math.round(b*25.5)).toString(16);a.css({background:'transparent',filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr=#"+d+"FFFF00, endColorstr=#"+d+"FFFF00)"})}else{a.css({background:'transparent',filter:"none"})}}else{a.css("backgroundColor","rgba(255, 255, 0, "+(b)/10+")")}if(b!=c){setTimeout(function(){animatebackground(a,b,c)},300)}}if(n.autoplay==1){timerInst=setInterval(function(){searchtwitter()},n.timer)}}})(jQuery);